%
%===================== OLD SETUP =====================
%
%\usepackage{listings}
%\lstset{
%	basicstyle=\footnotesize\ttfamily,
%	language=C,
%	commentstyle=\color{PineGreen},
%	keywordstyle=\bfseries\color{Plum},
%	numbers=left,
%	numberstyle=\tiny\ttfamily\color{darkgray},
%	stringstyle=\color{Cyan},
%	showstringspaces=false
%	morecomment={l}{//}
%}
%
%===================== NEW SETUP =====================
%
\usepackage{listings}
\usepackage{color}
%\lstloadlanguages{C,C++,csh,Java}
\definecolor{red}{rgb}{0.6,0,0} 
\definecolor{blue}{rgb}{0,0.5,0.8}
\definecolor{green}{rgb}{0,0.8,0}
\definecolor{cyan}{rgb}{0.0,0.6,0.4}
\definecolor{midgrey}{rgb}{0.25, 0.25, 0.25}
\definecolor{cloudwhite}{rgb}{0.9, 0.9, 0.9}
\lstset{
	language=csh,
	basicstyle=\footnotesize\ttfamily,
	numbers=left,
	numberstyle=\tiny,
	numbersep=5pt,
	tabsize=2,
	extendedchars=true,
	breaklines=true,
	frame=b,
	stringstyle=\color{blue}\ttfamily,
	showspaces=false,
	showtabs=false,
	xleftmargin=17pt,
	framexleftmargin=17pt,
	framexrightmargin=5pt,
	framexbottommargin=4pt,
	commentstyle=\color{green},
	morecomment=[l]{//}, %use comment-line-style!
	morecomment=[s]{/*}{*/}, %for multiline comments
	showstringspaces=false,
	morekeywords={ abstract, event, new, struct,
		as, explicit, null, switch,
		base, extern, object, this,
		bool, false, operator, throw,
		break, finally, out, true,
		byte, fixed, override, try,
		case, float, params, typeof,
		catch, for, private, uint,
		char, foreach, protected, ulong,
		checked, goto, public, unchecked,
		class, if, readonly, unsafe,
		const, implicit, ref, ushort,
		continue, in, return, using,
		decimal, int, sbyte, virtual,
		default, interface, sealed, volatile,
		delegate, internal, short, void,
		do, is, sizeof, while,
		double, lock, stackalloc,
		else, long, static,
		enum, namespace, string},
	keywordstyle=\color{cyan},
	identifierstyle=\color{midgrey},
	backgroundcolor=\color{cloudwhite},
}
\usepackage{caption}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{blue}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}
